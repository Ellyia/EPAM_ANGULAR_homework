<app-breadcrumbs [breadcrumbs]="breadcrumbs"></app-breadcrumbs>
<form [formGroup]="courseForm" (ngSubmit)="save()">
  <pre>{{ courseForm.value | json }}</pre>
  <div>
    <!-- <div *ngIf="title.invalid && (title.dirty || title.touched)">
      <div *ngIf="title.errors.required">Title is required.</div>
    </div> -->
    <label htmlFor="title">Title:</label>
    <input
      required
      placeholder="type title..."
      type="text"
      name="title"
      id="title"
      formControlName="name"
      maxlength="50"
    />
  </div>

  <label htmlFor="description"> Description:</label>
  <textarea
    required
    placeholder="type description..."
    name="description"
    id="description"
    minLength="2"
    formControlName="description"
  >
    {{ courseForm.value.description }}
  </textarea>

  <app-duration-input formControlName="length"></app-duration-input>

  <app-date-input formControlName="date"></app-date-input>

  <fieldset formArrayName="authors">
    <legend>Authors:</legend>
    <div
      class="form-field"
      *ngFor="let author of courseForm.controls.authors.controls; index as i"
    >
      <!-- <app-authors-input [author]="author" *ngFor="let author of courseForm.controls.authors.controls; index as i"></app-authors-input> -->
      <div>
        <label htmlFor="{{ i }}"> </label>
        <input
          placeholder="add autors..."
          type="text"
          name="authors"
          id="authors-{{ i }}"
          [formControlName]="i"
        />
      </div>
    </div>
  </fieldset>

  <div>
    <button type="submit" [disabled]="!courseForm.valid">Save</button>
    <button (click)="cancel()">Cancel</button>
  </div>
</form>
